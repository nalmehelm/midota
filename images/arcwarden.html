<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MiDota - Arc Warden Macro</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen">
  <header class="flex justify-between items-center p-4 bg-gray-800">
    <div class="flex items-center">
      <a href="index.html" class="mr-4">
        <img src="images/logo.png" alt="MiDota Logo" class="h-12 w-12 hover:opacity-80 transition duration-300">
      </a>
      <a href="index.html" class="text-2xl md:text-3xl font-bold text-yellow-400 hover:text-yellow-500 transition duration-300">MiDota</a>
    </div>
    <a href="macros.html" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-lg font-semibold transition duration-300">Назад</a>
  </header>
  <main class="p-8">
    <h2 class="text-4xl font-bold text-blue-400 mb-8 text-center">Arc Warden Macro</h2>
    <div class="max-w-4xl mx-auto bg-gray-800 rounded-lg overflow-hidden shadow-lg p-6">
      <div class="mb-6">
        <img src="images/arcwarden.png" alt="Arc Warden Macro" class="w-full h-64 object-cover rounded-lg">
      </div>
      <h3 class="text-2xl font-semibold text-blue-300 mb-4">Описание</h3>
      <p class="text-gray-400 mb-6">
        Назначьте бинды для способностей двойника Arc Warden и управляйте ими автоматически. Оптимизируйте свою игру с помощью готовых макросов или настройте их под себя!
      </p>
      <h3 class="text-2xl font-semibold text-blue-300 mb-4">Видео</h3>
      <div class="mb-6">
        <iframe
          width="100%"
          height="315"
          src="https://www.youtube.com/embed/dQw4w9WgXcQ"
          title="Arc Warden Macro Demo"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>
      <h3 class="text-2xl font-semibold text-blue-300 mb-4">Скачивание</h3>
      <div id="downloadSection" class="mb-6">
        <button id="showModalBtn" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-xl font-semibold transition duration-300">
          Скачать макрос
        </button>
      </div>
    </div>

    <!-- Модальное окно -->
    <div id="modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center hidden">
      <div class="bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md">
        <h3 class="text-2xl font-semibold text-blue-300 mb-4">Подтвердите подписки</h3>
        <p class="text-gray-400 mb-4">Нажмите на кнопки, чтобы подтвердить подписку на наши каналы:</p>
        <div class="mb-4">
          <a id="youtubeBtn" href="https://www.youtube.com/@MiDota-Official" target="_blank" class="block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-lg font-semibold transition duration-300 w-full text-center">
            Подписаться на YouTube
          </a>
        </div>
        <div class="mb-4">
          <a id="telegramBtn" href="https://t.me/MiDotaOfficial" target="_blank" class="block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-lg font-semibold transition duration-300 w-full text-center">
            Подписаться на Telegram
          </a>
        </div>
        <button id="downloadBtn" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-xl font-semibold transition duration-300 opacity-50 cursor-not-allowed" disabled>
          Скачать макрос
        </button>
        <button id="closeModalBtn" class="mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-lg font-semibold transition duration-300">
          Закрыть
        </button>
      </div>
    </div>
  </main>

  <script>
    const showModalBtn = document.getElementById('showModalBtn');
    const modal = document.getElementById('modal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const youtubeBtn = document.getElementById('youtubeBtn');
    const telegramBtn = document.getElementById('telegramBtn');

    let youtubeTimeLeft = 0;
    let telegramTimeLeft = 0;
    let youtubeTimerInterval = null;
    let telegramTimerInterval = null;

    youtubeBtn.addEventListener('click', (e) => {
      if (youtubeTimeLeft === 0) {
        youtubeTimeLeft = 15;
        youtubeBtn.classList.add('opacity-50', 'cursor-not-allowed');
        youtubeTimerInterval = setInterval(() => {
          youtubeTimeLeft--;
          if (youtubeTimeLeft <= 0) {
            clearInterval(youtubeTimerInterval);
            youtubeBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            checkDownloadAvailability();
          }
        }, 1000);
      } else {
        e.preventDefault(); // Блокируем повторное нажатие
      }
    });

    telegramBtn.addEventListener('click', (e) => {
      if (telegramTimeLeft === 0) {
        telegramTimeLeft = 15;
        telegramBtn.classList.add('opacity-50', 'cursor-not-allowed');
        telegramTimerInterval = setInterval(() => {
          telegramTimeLeft--;
          if (telegramTimeLeft <= 0) {
            clearInterval(telegramTimerInterval);
            telegramBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            checkDownloadAvailability();
          }
        }, 1000);
      } else {
        e.preventDefault(); // Блокируем повторное нажатие
      }
    });

    function checkDownloadAvailability() {
      if (youtubeTimeLeft <= 0 && telegramTimeLeft <= 0) {
        downloadBtn.disabled = false;
        downloadBtn.classList.remove('opacity-50', 'cursor-not-allowed');
      } else {
        downloadBtn.disabled = true;
        downloadBtn.classList.add('opacity-50', 'cursor-not-allowed');
      }
    }

    showModalBtn.addEventListener('click', () => {
      modal.classList.remove('hidden');
    });

    closeModalBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
      if (youtubeTimerInterval) clearInterval(youtubeTimerInterval);
      if (telegramTimerInterval) clearInterval(telegramTimerInterval);
      youtubeTimeLeft = 0;
      telegramTimeLeft = 0;
      youtubeBtn.classList.remove('opacity-50', 'cursor-not-allowed');
      telegramBtn.classList.remove('opacity-50', 'cursor-not-allowed');
      downloadBtn.disabled = true;
      downloadBtn.classList.add('opacity-50', 'cursor-not-allowed');
    });

    downloadBtn.addEventListener('click', () => {
      if (youtubeTimeLeft <= 0 && telegramTimeLeft <= 0) {
        window.location.href = 'download/arcwarden.exe';
      }
    });
  </script>
</body>
</html>